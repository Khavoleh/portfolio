---
import ReviewCard from '@shared/review/ReviewCard.astro';
import { REVIEWS } from './constants';
import LinkIcon from './icons/link.svg';
---

<section class="mb-12">
  <div class="mb-8 text-center">
    <h2 class="text-primary mb-4 text-3xl font-bold">Professional Recommendations</h2>
    <p class="text-secondary mx-auto max-w-2xl text-lg">What colleagues say about working with me</p>
  </div>

  <div id="default-carousel" class="relative w-full" data-carousel="static">
    <div class="rounded-base relative overflow-hidden" style="min-height: 350px;">
      {
        REVIEWS.map((review) => (
          <div class="hidden duration-1000 ease-in-out" data-carousel-item>
            <div class="absolute top-1/2 left-1/2 w-full max-w-4xl -translate-x-1/2 -translate-y-1/2 px-4">
              <ReviewCard review={review} />
            </div>
          </div>
        ))
      }
    </div>

    <div class="absolute bottom-5 left-1/2 z-30 flex -translate-x-1/2 space-x-3 rtl:space-x-reverse">
      {
        REVIEWS.map((_, index) => (
          <button
            type="button"
            class="rounded-base h-3 w-3 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500"
            aria-current={index === 0 ? 'true' : 'false'}
            aria-label={`Slide ${index + 1}`}
            data-carousel-slide-to={index.toString()}
          />
        ))
      }
    </div>

    <button
      type="button"
      class="group absolute start-0 top-0 z-30 flex h-full cursor-pointer items-center justify-center px-4 focus:outline-none"
      data-carousel-prev
    >
      <span
        class="rounded-base inline-flex h-10 w-10 items-center justify-center bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70"
      >
        <svg
          class="h-5 w-5 text-white rtl:rotate-180"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
          ><path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="m15 19-7-7 7-7"></path></svg
        >
        <span class="sr-only">Previous</span>
      </span>
    </button>
    <button
      type="button"
      class="group absolute end-0 top-0 z-30 flex h-full cursor-pointer items-center justify-center px-4 focus:outline-none"
      data-carousel-next
    >
      <span
        class="rounded-base inline-flex h-10 w-10 items-center justify-center bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70"
      >
        <svg
          class="h-5 w-5 text-white rtl:rotate-180"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
          ><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"
          ></path></svg
        >
        <span class="sr-only">Next</span>
      </span>
    </button>
  </div>

  <div class="mt-8 text-center">
    <a
      href="https://www.linkedin.com/in/khavol/"
      target="_blank"
      rel="noopener noreferrer"
      class="transition-default focus-default inline-flex items-center gap-2 font-semibold text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300"
    >
      View all recommendations on LinkedIn
      <LinkIcon class="h-4 w-4" />
    </a>
  </div>
</section>
