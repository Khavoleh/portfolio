---
import { NAVIGATION_LINKS } from './constants.ts';

const currentPath = Astro.url.pathname;
---

<nav
  class="fixed start-0 top-0 z-20 w-full border-b border-slate-200 bg-white/80 backdrop-blur-md dark:border-slate-700 dark:bg-slate-900/80"
>
  <div class="mx-auto flex max-w-screen-xl flex-wrap items-center justify-between p-4">
    <a href="/" class="flex items-center space-x-3 rtl:space-x-reverse">
      <img src="/favicon.svg" class="h-8" alt="Logo" />
      <span class="self-center text-2xl font-semibold whitespace-nowrap text-slate-800 dark:text-slate-50">
        Oleh Khavar
      </span>
    </a>

    <button
      data-collapse-toggle="navbar-default"
      type="button"
      class="inline-flex h-10 w-10 items-center justify-center rounded-lg p-2 text-sm text-slate-600 transition-all duration-200 hover:bg-slate-100 focus:ring-2 focus:ring-blue-300 focus:outline-none md:hidden dark:text-slate-300 dark:hover:bg-slate-800 dark:focus:ring-blue-500"
      aria-controls="navbar-default"
      aria-expanded="false"
    >
      <img src="/icons/burger.svg" class="h-5 w-5" alt="Open main menu" />
    </button>

    <div class="hidden w-full md:block md:w-auto" id="navbar-default">
      <ul
        class="mt-4 flex flex-col rounded-lg border border-slate-200 bg-slate-50 p-4 font-medium md:mt-0 md:flex-row md:space-x-8 md:border-0 md:bg-transparent md:p-0 rtl:space-x-reverse dark:border-slate-700 dark:bg-slate-800 md:dark:bg-transparent"
      >
        {
          NAVIGATION_LINKS.map((link) => {
            const isActive = currentPath === link.href;

            return (
              <li>
                <a
                  href={link.href}
                  class={
                    isActive
                      ? 'block rounded bg-blue-500 px-3 py-2 text-white transition-all duration-200 md:bg-transparent md:p-0 md:text-blue-500 md:dark:text-blue-300'
                      : 'block rounded px-3 py-2 text-slate-800 transition-all duration-200 hover:bg-slate-100 hover:text-blue-600 md:border-0 md:p-0 md:hover:bg-transparent md:hover:text-blue-500 md:active:text-blue-600 dark:text-slate-50 dark:hover:bg-slate-800 dark:hover:text-blue-300 dark:active:text-blue-500 md:dark:hover:bg-transparent'
                  }
                  aria-current={isActive ? 'page' : undefined}
                >
                  {link.label}
                </a>
              </li>
            );
          })
        }
      </ul>
    </div>
  </div>
</nav>
