---
import { PAGE_URLS } from '@shared/constants.ts';
import LogoIcon from '@assets/logo.svg';
import { NAVIGATION_LINKS } from './constants.ts';
import type { NavLink } from './interfaces.ts';
import BurgerIcon from './icons/burger.svg';

const currentPath: string = Astro.url.pathname;
---

<header class="border-default fixed start-0 top-0 z-100 w-full border-b bg-slate-50 dark:bg-slate-900">
  <nav>
    <div class="mx-auto flex max-w-screen-xl flex-wrap items-center justify-between p-4">
      <a
        href={PAGE_URLS.HOME}
        aria-label="Navigate to home page"
        class="transition-default focus-default flex items-center space-x-3 rounded-lg rtl:space-x-reverse"
      >
        <LogoIcon class="h-8" />
        <span class="text-primary self-center text-2xl font-semibold whitespace-nowrap">Oleh Khavar</span>
      </a>

      <button
        data-collapse-toggle="navbar-default"
        type="button"
        class="transition-default hover-default focus-default inline-flex h-10 w-10 items-center justify-center rounded-lg p-2 md:hidden"
        aria-controls="navbar-default"
        aria-expanded="false"
        aria-label="Open main menu"
      >
        <BurgerIcon class="h-5 w-5" />
      </button>

      <div class="hidden w-full md:block md:w-auto" id="navbar-default">
        <ul
          class="border-default mt-4 flex flex-col rounded-lg border bg-slate-50 p-4 font-medium md:mt-0 md:flex-row md:space-x-8 md:border-0 md:bg-transparent md:p-0 rtl:space-x-reverse dark:bg-slate-800 md:dark:bg-transparent"
        >
          {
            NAVIGATION_LINKS.map((link: NavLink) => {
              const isActive: boolean = currentPath === link.href;

              return (
                <li>
                  <a
                    href={link.href}
                    class={
                      isActive
                        ? 'transition-default focus-default block rounded bg-blue-500 px-3 py-2 text-slate-50 md:bg-transparent md:p-0 md:text-blue-500 md:dark:text-blue-300'
                        : 'transition-default focus-default text-primary text-hover block rounded px-3 py-2 md:border-0 md:p-0 md:hover:bg-transparent'
                    }
                    aria-label={`Navigate to ${link.label} page`}
                    aria-current={isActive ? 'page' : undefined}
                  >
                    {link.label}
                  </a>
                </li>
              );
            })
          }
        </ul>
      </div>
    </div>
  </nav>
</header>
